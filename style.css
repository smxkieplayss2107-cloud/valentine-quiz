:root{
  --bg1:#ffdee9;
  --bg2:#b5fffc;
  --card:#ffffffcc;
  --ink:#2b2233;
  --muted:#5d4b66;
  --pink:#ff4d8d;
  --pink2:#ff7ab3;
  --red:#ff2e63;
  --shadow: 0 18px 40px rgba(30,10,40,.15);
  --radius: 22px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-rounded, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  color:var(--ink);
  overflow-x:hidden;
  background: radial-gradient(circle at 20% 20%, var(--bg1), transparent 55%),
              radial-gradient(circle at 80% 0%, #ffd1e8, transparent 50%),
              radial-gradient(circle at 30% 90%, var(--bg2), transparent 55%),
              linear-gradient(135deg, #fff6fb, #f7fbff);
}

#hearts-layer{
  position:fixed; inset:0;
  pointer-events:none;
  z-index:0;
  overflow:hidden;
}

.app{
  position:relative;
  z-index:1;
  min-height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px 14px;
}

.card{
  width:min(520px, 100%);
  background:var(--card);
  border:1px solid rgba(255,255,255,.7);
  backdrop-filter: blur(10px);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding:22px 18px;
  text-align:center;
  position:relative;
  overflow:hidden;
  transform: translateZ(0);
}

.hidden{display:none}

.title{
  font-size: 2.1rem;
  margin:4px 0 6px;
  letter-spacing:.2px;
}

.pulse-heart{
  display:inline-block;
  animation:pulse 1.2s infinite;
}

@keyframes pulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.18)}
}

.subtitle{
  margin:0 0 14px;
  color:var(--muted);
  font-size:1.02rem;
}

.big-heart{
  font-size: 4rem;
  margin: 8px 0 18px;
  animation: floaty 2.8s ease-in-out infinite;
}
@keyframes floaty{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-10px)}
}

.tiny{
  margin:12px 0 0;
  color:var(--muted);
  font-size:.9rem;
}

.btn{
  border:none;
  border-radius: 999px;
  padding: 12px 16px;
  font-weight:700;
  cursor:pointer;
  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
  outline: none;
  min-width: 130px;
}

.btn:focus-visible{
  box-shadow: 0 0 0 4px rgba(255,77,141,.25);
}

.btn:active{transform: translateY(1px) scale(.99)}

.primary{
  background: linear-gradient(135deg, var(--pink), var(--pink2));
  color:white;
  box-shadow: 0 10px 22px rgba(255,77,141,.25);
}

.ghost{
  background: rgba(255,255,255,.7);
  color: var(--ink);
  border: 1px solid rgba(90,50,100,.15);
}

.danger{
  background: rgba(255,46,99,.12);
  color: var(--red);
  border: 1px solid rgba(255,46,99,.22);
}

.btn:hover{
  transform: translateY(-2px) scale(1.02);
  filter: brightness(1.03);
}

.topbar{margin-bottom:10px}
.progress-text{
  font-weight:800;
  color:var(--muted);
  margin-bottom:8px;
}

.progress-bar{
  width:100%;
  height:10px;
  background: rgba(40,20,60,.08);
  border-radius: 999px;
  overflow:hidden;
}
.progress-fill{
  height:100%;
  width:0%;
  background: linear-gradient(90deg, var(--pink), #ffb3d1);
  border-radius: 999px;
  transition: width .35s ease;
}

.qcard{
  padding: 10px 4px 6px;
  animation: gentle-wiggle 2.6s ease-in-out infinite;
}
@keyframes gentle-wiggle{
  0%,100%{transform:rotate(0deg)}
  50%{transform:rotate(.35deg)}
}

.pop-in{animation: pop .35s ease both}
@keyframes pop{
  from{opacity:0; transform: translateY(10px) scale(.98)}
  to{opacity:1; transform: translateY(0) scale(1)}
}

.question{
  margin: 8px 0 14px;
  font-size: 1.35rem;
}

.options{
  display:grid;
  grid-template-columns: 1fr;
  gap:10px;
  margin-bottom: 10px;
}

.optBtn{
  width:100%;
  text-align:left;
  padding: 12px 14px;
  border-radius: 16px;
  background: rgba(255,255,255,.75);
  border: 1px solid rgba(90,50,100,.12);
  cursor:pointer;
  font-weight:700;
  color:var(--ink);
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
  position:relative;
  overflow:hidden;
}

.optBtn:hover{
  transform: translateY(-2px);
  box-shadow: 0 12px 24px rgba(40,20,60,.10);
}

.optBtn.selected{
  background: rgba(255,77,141,.12);
  border-color: rgba(255,77,141,.35);
  box-shadow: 0 14px 26px rgba(255,77,141,.16);
}

.helper{
  margin: 8px 0 14px;
  color: var(--muted);
  font-size: .95rem;
  min-height: 1.2em;
}

.actions{
  display:flex;
  gap:10px;
  justify-content:center;
  margin-top:8px;
}

.btn[disabled]{
  opacity:.55;
  cursor:not-allowed;
  filter:saturate(.8);
  transform:none;
}

.scoreBox{
  margin:16px auto 10px;
  width:min(300px, 100%);
  border-radius: 18px;
  background: rgba(255,255,255,.75);
  border: 1px solid rgba(90,50,100,.12);
  padding: 14px 14px;
}
.scoreLabel{color:var(--muted); font-weight:800}
.scoreValue{font-size:2.4rem; font-weight:900; margin-top:6px}

.banner{
  margin: 10px auto 14px;
  width: fit-content;
  padding: 10px 14px;
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(255,77,141,.16), rgba(255,173,208,.22));
  border: 1px solid rgba(255,77,141,.25);
  font-weight: 900;
  animation: glow 1.1s ease-in-out infinite;
}
@keyframes glow{
  0%,100%{transform:scale(1); filter:brightness(1)}
  50%{transform:scale(1.02); filter:brightness(1.06)}
}

.title2{margin:6px 0 8px; font-size:1.8rem}
.subtitle2{margin:0 0 10px; color:var(--muted)}

.confetti{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  pointer-events:none;
}

.valTitle{
  margin:8px 0 6px;
  font-size:1.9rem;
}
.valMsg{
  margin: 0 0 14px;
  color: var(--muted);
  min-height: 1.4em;
}

.valBtns{
  position:relative;
  display:flex;
  gap:12px;
  justify-content:center;
  align-items:center;
  min-height: 70px;
}

.yes{box-shadow: 0 12px 26px rgba(255,77,141,.22)}
.no{position:relative}

.shake{
  animation: shake .22s ease;
}
@keyframes shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-6px)}
  50%{transform:translateX(6px)}
  75%{transform:translateX(-4px)}
  100%{transform:translateX(0)}
}

.celebrateHeart{
  font-size: 5rem;
  margin: 6px 0 16px;
  animation: pulse 1.0s infinite;
}

/* Sparkle particles */
.sparkle{
  position:absolute;
  width:8px; height:8px;
  border-radius: 999px;
  background: rgba(255,77,141,.9);
  pointer-events:none;
  animation: sparklePop .6s ease forwards;
}
@keyframes sparklePop{
  from{transform: translate(0,0) scale(1); opacity:1}
  to{transform: translate(var(--dx), var(--dy)) scale(.1); opacity:0}
}

/* Floating hearts in background */
.floating-heart{
  position:absolute;
  bottom:-40px;
  font-size: 18px;
  opacity:.5;
  animation: floatUp linear forwards;
  filter: drop-shadow(0 10px 12px rgba(0,0,0,.08));
}
@keyframes floatUp{
  from{transform: translateY(0) translateX(0) scale(1); opacity:.0}
  10%{opacity:.55}
  to{transform: translateY(-120vh) translateX(var(--drift)) scale(var(--scale)); opacity:0}
}